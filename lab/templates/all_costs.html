{%extends 'base.html'%}

{% block title%}
Profile page
{%endblock%}

{% block body%}
<a href="profile" class='d-flex justify-content-end'>Profile</a>
<h1>All costs!!</h1>

<div id="general">
</div>
<br><br>
<!--<form action="category">-->
<!--    <input type="hidden" id="category_id" name="category_id" value=' + id + '>-->
<!--    <input type="submit" value="+ data[id]['title'] +"/>-->
<!--</form>-->
<!--<br><br>-->
<!--<form action="cost">-->
<!--    <input type="hidden" id="cost_id" name="cost_id" value=' + id + '>-->
<!--    <input style="margin-left: 33px" type="submit" value="+ data[id]['title'] +"/>-->
<!--</form>-->
<br>
<!--<form action="create_category">-->
<!--    <input type="submit" value="Create category"/>-->
<!--</form>-->
<!--<br>-->
<!--<div id="buttons"></div>-->
<!--&lt;!&ndash;<a href="create_category">Create category</a>&ndash;&gt;-->
<script>
    const data = JSON.parse({{data|default("")|tojson}});
    var text = "";
    for (var category in data) {
        // alert(data[category]['title'])
        text += "<br>\n" +
            "<form method=\"POST\" action=\"category\">\n" +
            "    <input type=\"hidden\" id=\"id\" name=\"id\" value=\"" + data[category]['id'] + "\"/>\n" +
            "    <input type=\"submit\" value=\""+ data[category]['title'] +"\">\n" +
            "</form>\n" +
            "<br>"
        for(var cost in data[category]['costs']){
            text += "<form method=\"POST\" action=\"cost\">\n" +
                "    <input type=\"hidden\" id=\"cost_id\" name=\"cost_id\" value=\"" + data[category]['costs'][cost]['id'] + "\">\n" +
                "    <input style=\"margin-left: 33px\" type=\"submit\" value=\""+ data[category]['costs'][cost]['money'] +"\">\n" +
                "</form>\n" +
                "<br>"
        }

    }
    document.getElementById("general").innerHTML = text;
</script>
{%endblock%}